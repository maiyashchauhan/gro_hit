<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gro-Hit - Rural Empowerment Prototype</title>
  <meta name="theme-color" content="#1b5e20" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <svg width="36" height="36" viewBox="0 0 24 24" aria-hidden="true">
        <path fill="#fff" d="M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2Zm1 15h-2v-2h2Zm0-4h-2V7h2Z"/>
      </svg>
      <div>
        <h1 id="appTitle" data-i18n="app_title">GROHIT</h1>
        <div class="tagline" data-i18n="app_tagline">Grievance Reporting, Online Help, Information & Transparency</div>
      </div>
    </div>
    <div class="header-actions">
      <button id="langToggle" class="secondary" aria-label="Toggle Language">à¤¹à¤¿à¤‚à¤¦à¥€ / EN</button>
      <button id="loginBtn" class="secondary" data-i18n="login">Login</button>
    </div>
  </header>

  <nav class="nav-grid" aria-label="Main">
    <button class="nav-btn" data-view="home">
      <span>ğŸ </span>
      <div data-i18n="home">Home</div>
    </button>
    <button class="nav-btn" data-view="report">
      <span>ğŸ“</span>
      <div data-i18n="report_issue">Report Issue</div>
    </button>
    <button class="nav-btn" data-view="announcements">
      <span>ğŸ“£</span>
      <div data-i18n="announcements">Announcements</div>
    </button>
    <button class="nav-btn" data-view="jobs">
      <span>ğŸ’¼</span>
      <div data-i18n="jobs_training">Jobs & Training</div>
    </button>
    <button class="nav-btn" data-view="crop">
      <span>ğŸŒ¾</span>
      <div data-i18n="crop_scanner">Crop Scanner</div>
    </button>
    <button class="nav-btn" data-view="health">
      <span>ğŸ©º</span>
      <div data-i18n="health_assistant">Health Assistant</div>
    </button>
    <button class="nav-btn" data-view="mandi">
      <span>ğŸ§¾</span>
      <div data-i18n="mandi_bulletin">Mandi</div>
    </button>
    <button class="nav-btn" data-view="radio">
      <span>ğŸ“»</span>
      <div data-i18n="radio">Radio</div>
    </button>
    <button class="nav-btn" data-view="stories">
      <span>ğŸ—£ï¸</span>
      <div data-i18n="stories">Stories</div>
    </button>
    <button class="nav-btn" data-view="sos">
      <span>ğŸš¨</span>
      <div data-i18n="one_tap_sos">One-Tap SOS</div>
    </button>
    <button class="nav-btn" data-view="needhelp">
      <span>ğŸ¤</span>
      <div data-i18n="need_help">Need Help</div>
    </button>
    <button class="nav-btn" data-view="donation">
      <span>ğŸ’°</span>
      <div data-i18n="donation">Donation</div>
    </button>
    <button class="nav-btn" data-view="suggestion">
      <span>ğŸ’¡</span>
      <div data-i18n="suggestion_box">Suggestion Box</div>
    </button>
    <button class="nav-btn" data-view="schemes">
      <span>ğŸ“œ</span>
      <div data-i18n="govt_schemes">Govt Schemes</div>
    </button>
    <button class="nav-btn" data-view="admin">
      <span>ğŸ› ï¸</span>
      <div data-i18n="admin_panel">Admin</div>
    </button>
  </nav>

  <section id="statusBar" class="status-bar" role="status" aria-live="polite">
    <span id="connStatus">Offline-ready</span>
    <span>â€¢</span>
    <span id="userInfo" data-i18n="role_guest">Guest</span>
  </section>

  <main>
    <!-- Home -->
    <section id="view-home" class="view active">
      <h2 data-i18n="welcome_header">Welcome to Gro-Hit</h2>
      <p data-i18n="welcome_sub">Simple tools for villagers to report issues, find jobs and training, get health help, and receive Panchayat updates.</p>
      <div class="cards">
        <div class="card">
          <h3>ğŸ“ <span data-i18n="geo_issue">Geo-Tagged Issue Reporting</span></h3>
          <p data-i18n="geo_issue_desc">Report problems with photo, auto location, and track status.</p>
        </div>
        <div class="card">
          <h3>ğŸ“£ <span data-i18n="panchayat_updates">Panchayat Announcements</span></h3>
          <p data-i18n="panchayat_updates_desc">Admins post text/audio/video. Villagers get alerts.</p>
        </div>
        <div class="card">
          <h3>ğŸ’¼ <span data-i18n="jobs_training_card">Skill Training & Job Board</span></h3>
          <p data-i18n="jobs_training_desc">Filter by age, gender, skill. Apply or bookmark.</p>
        </div>
        <div class="card">
          <h3>ğŸŒ¾ <span data-i18n="crop_scanner_card">Crop Disease Scanner</span></h3>
          <p data-i18n="crop_scanner_desc">Offline image queue. AI-like diagnosis.</p>
        </div>
        <div class="card">
          <h3>ğŸ©º <span data-i18n="health_ai_card">AI Health Assistant</span></h3>
          <p data-i18n="health_ai_desc">Voice symptom checker with clinic suggestions.</p>
        </div>
        <div class="card">
          <h3>ğŸš¨ <span data-i18n="sos_card">One-Tap SOS</span></h3>
          <p data-i18n="sos_desc">Send SMS with location to saved contacts.</p>
        </div>
        <div class="card">
          <h3>ğŸ¤ <span data-i18n="need_help">Need Help</span></h3>
          <p data-i18n="need_help_desc">Request money or aid by describing your need.</p>
        </div>
        <div class="card">
          <h3>ğŸ’° <span data-i18n="donation">Donation</span></h3>
          <p data-i18n="donation_desc">Donate to those who need help in your community.</p>
        </div>
        <div class="card">
          <h3>ğŸ’¡ <span data-i18n="suggestion_box">Suggestion Box</span></h3>
          <p data-i18n="suggestion_box_desc">Share your ideas and suggestions to improve the community.</p>
        </div>
        <div class="card">
          <h3>ğŸ“œ <span data-i18n="govt_schemes">Government Schemes</span></h3>
          <p data-i18n="govt_schemes_desc">View and learn about government welfare schemes available.</p>
        </div>
        <div class="card">
          <h3>ğŸ§¾ <span data-i18n="mandi_bulletin">Digital Mandi Bulletin</span></h3>
          <p data-i18n="mandi_desc">Daily local crop price updates.</p>
        </div>
        <div class="card">
          <h3>ğŸ“» <span data-i18n="radio">Community Radio</span></h3>
          <p data-i18n="radio_desc">Stream local news and content.</p>
        </div>
        <div class="card">
          <h3>ğŸ—£ï¸ <span data-i18n="stories">Village Storytelling Archive</span></h3>
          <p data-i18n="stories_desc">Record and share oral histories.</p>
        </div>
      </div>
      <div class="demo">
        <button id="runDemo" class="primary">â–¶ Demo Scenario</button>
      </div>
    </section>

    <!-- Report Issue -->
    <section id="view-report" class="view">
      <h2>ğŸ“ <span data-i18n="report_issue">Report Issue</span></h2>
      <form id="issueForm" class="form">
        <label>
          <span data-i18n="category">Category</span>
          <select name="category" required>
            <option value="water" data-i18n="cat_water">Water Supply</option>
            <option value="road" data-i18n="cat_road">Road/Transport</option>
            <option value="electricity" data-i18n="cat_electricity">Electricity</option>
            <option value="health" data-i18n="cat_health">Health</option>
            <option value="sanitation" data-i18n="cat_sanitation">Sanitation</option>
            <option value="other" data-i18n="cat_other">Other</option>
          </select>
        </label>
        <label>
          <span data-i18n="title">Title</span>
          <input type="text" name="title" placeholder="e.g., Broken water pump" required />
        </label>
        <label>
          <span data-i18n="description">Description</span>
          <textarea name="description" rows="3" placeholder="Write details..." required></textarea>
        </label>
        <label>
          <span data-i18n="photo">Photo</span>
          <input type="file" name="photo" accept="image/*;capture=camera" />
        </label>
        <div class="row">
          <button type="button" id="getLocationBtn" class="secondary" data-i18n="get_location">Get Location</button>
          <span id="locationDisplay" class="muted"></span>
        </div>
        <div class="row">
          <button class="primary" type="submit" data-i18n="submit">Submit</button>
          <button class="secondary" type="reset" data-i18n="reset">Reset</button>
        </div>
      </form>
      <h3 data-i18n="my_issues">My Issues</h3>
      <ul id="myIssues" class="list"></ul>
      <h3 data-i18n="community_issues">Community Issues</h3>
      <ul id="communityIssues" class="list"></ul>
    </section>

    <!-- Announcements -->
    <section id="view-announcements" class="view">
      <h2>ğŸ“£ <span data-i18n="announcements">Announcements</span></h2>
      <ul id="annList" class="list"></ul>
    </section>

    <!-- Jobs & Training -->
    <section id="view-jobs" class="view">
      <h2>ğŸ’¼ <span data-i18n="jobs_training">Jobs & Training</span></h2>
      <form id="jobFilters" class="filters">
        <label>
          <span data-i18n="age">Age</span>
          <input type="number" min="14" max="80" name="age" placeholder="e.g., 25" />
        </label>
        <label>
          <span data-i18n="gender">Gender</span>
          <select name="gender">
            <option value="any" data-i18n="any">Any</option>
            <option value="F" data-i18n="female">Female</option>
            <option value="M" data-i18n="male">Male</option>
            <option value="O" data-i18n="other">Other</option>
          </select>
        </label>
        <label>
          <span data-i18n="skill">Skill</span>
          <input type="text" name="skill" placeholder="e.g., sewing, tractor" />
        </label>
        <button class="secondary" type="submit" data-i18n="apply_filters">Apply Filters</button>
      </form>
      <ul id="jobList" class="cards"></ul>

      <details class="panel">
        <summary>ğŸ“ <span data-i18n="seasonal_suggestion">Seasonal Suggestion Box</span></summary>
        <form id="suggestForm" class="form">
          <label>
            <span data-i18n="your_name">Your Name</span>
            <input type="text" name="name" />
          </label>
          <label>
            <span data-i18n="season">Season</span>
            <select name="season">
              <option value="rabi">Rabi</option>
              <option value="kharif">Kharif</option>
              <option value="summer">Summer</option>
            </select>
          </label>
          <label>
            <span data-i18n="suggestion">Suggestion / Need</span>
            <textarea name="text" rows="3"></textarea>
          </label>
          <button class="primary" type="submit" data-i18n="submit">Submit</button>
        </form>
        <ul id="suggestList" class="list"></ul>
      </details>

      <details class="panel">
        <summary>ğŸ¤– <span data-i18n="ai_suggestion_angel">AI Suggestion Angel</span></summary>
        <form id="angelForm" class="form">
          <label>
            <span data-i18n="age">Age</span>
            <input type="number" name="age" min="1" max="100" />
          </label>
          <label>
            <span data-i18n="caste">Caste</span>
            <select name="caste">
              <option value="GEN">GEN</option>
              <option value="OBC">OBC</option>
              <option value="SC">SC</option>
              <option value="ST">ST</option>
            </select>
          </label>
          <label>
            <span data-i18n="income">Annual Income (â‚¹)</span>
            <input type="number" name="income" min="0" step="1000" />
          </label>
          <label>
            <span data-i18n="location">Location</span>
            <input type="text" name="location" placeholder="Village / Block" />
          </label>
          <button class="primary" type="submit" data-i18n="get_schemes">Get Schemes</button>
        </form>
        <div id="angelOutput" class="card"></div>
      </details>
    </section>

    <!-- Mandi Bulletin -->
    <section id="view-mandi" class="view">
      <h2>ğŸ§¾ <span data-i18n="mandi_bulletin">Digital Mandi Bulletin</span></h2>
      <ul id="mandiList" class="list"></ul>
      <details class="panel">
        <summary>ğŸ› ï¸ <span data-i18n="manage_mandi">Manage Mandi Prices</span></summary>
        <form id="mandiForm" class="form">
          <label>
            <span data-i18n="commodity">Commodity</span>
            <input type="text" name="commodity" />
          </label>
          <label>
            <span data-i18n="unit">Unit</span>
            <input type="text" name="unit" placeholder="quintal / kg" />
          </label>
          <label>
            <span data-i18n="price">Price (â‚¹)</span>
            <input type="number" name="price" min="0" step="1" />
          </label>
          <button class="primary" type="submit" data-i18n="add">Add</button>
        </form>
      </details>
    </section>

    <!-- Crop Scanner -->
    <section id="view-crop" class="view">
      <h2>ğŸŒ¾ <span data-i18n="crop_scanner">Crop Disease Scanner</span></h2>
      <form id="cropForm" class="form">
        <label>
          <span data-i18n="plant_photo">Plant Photo</span>
          <input type="file" name="photo" accept="image/*;capture=camera" />
        </label>
        <div class="row">
          <button type="button" id="analyzeCropBtn" class="primary" data-i18n="analyze">Analyze</button>
          <button type="button" id="queueCropBtn" class="secondary" data-i18n="queue_offline">Queue Offline</button>
        </div>
      </form>
      <div id="cropResult" class="card"></div>
      <h3 data-i18n="queued_scans">Queued Scans</h3>
      <ul id="cropQueue" class="list"></ul>
    </section>

    <!-- Health Assistant -->
    <section id="view-health" class="view">
      <h2>ğŸ©º <span data-i18n="health_assistant">Health Assistant</span></h2>
      <div class="row">
        <button id="startVoiceBtn" class="primary">ğŸ¤ <span data-i18n="start_voice">Start Voice</span></button>
        <button id="stopVoiceBtn" class="secondary" disabled>â–  <span data-i18n="stop">Stop</span></button>
      </div>
      <label>
        <span data-i18n="symptoms">Symptoms</span>
        <textarea id="symptomText" rows="3" placeholder="e.g., fever, cough..."></textarea>
      </label>
      <div class="row">
        <button id="checkSymptomsBtn" class="primary" data-i18n="check">Check</button>
      </div>
      <div id="healthAdvice" class="card"></div>
      <h3 data-i18n="nearby_clinics">Nearby Clinics</h3>
      <ul id="clinicList" class="list"></ul>

      <details class="panel">
        <summary>ğŸ¥ <span data-i18n="manage_clinics">Manage Clinics</span></summary>
        <form id="clinicForm" class="form">
          <label><span data-i18n="name">Name</span><input name="name" type="text"></label>
          <label><span data-i18n="phone">Phone</span><input name="phone" type="text"></label>
          <label><span data-i18n="address">Address</span><input name="address" type="text"></label>
          <label><span data-i18n="timings">Timings</span><input name="timings" type="text" placeholder="9am-5pm"></label>
          <label><span data-i18n="type">Type</span>
            <select name="ctype"><option value="gov">Government</option><option value="private">Private</option></select>
          </label>
          <label><span data-i18n="affordability">Affordability (â‚¹)</span><input name="cost" type="number" min="0"></label>
          <button class="primary" type="submit" data-i18n="add">Add</button>
        </form>
      </details>

      <details class="panel">
        <summary>ğŸ“ <span data-i18n="telemedicine">Telemedicine</span></summary>
        <form id="teleForm" class="form">
          <label><span data-i18n="doctor_name">Doctor Name</span><input name="doc" type="text"></label>
          <label><span data-i18n="phone">Phone</span><input name="phone" type="text"></label>
          <label><span data-i18n="notes">Notes</span><textarea name="notes" rows="2"></textarea></label>
          <button id="callDoctorBtn" class="primary" type="button" data-i18n="call_now">Call now</button>
        </form>
      </details>

      <details class="panel">
        <summary>ğŸ“¨ <span data-i18n="health_alerts">Health SMS Alerts</span></summary>
        <form id="healthAlertForm" class="form">
          <label><span data-i18n="message">Message</span><input name="message" type="text"></label>
          <label><span data-i18n="contacts">Contacts (comma separated phone numbers)</span><input name="numbers" type="text"></label>
          <button class="secondary" type="submit" data-i18n="prepare_sms">Prepare SMS</button>
        </form>
        <div id="healthAlertOutput" class="card"></div>
      </details>
    </section>

    <!-- Radio -->
    <section id="view-radio" class="view">
      <h2>ğŸ“» <span data-i18n="radio">Community Radio</span></h2>
      <audio id="radioPlayer" controls style="width:100%"></audio>
      <details class="panel">
        <summary>ğŸ› ï¸ <span data-i18n="manage_radio">Manage Radio Stream</span></summary>
        <form id="radioForm" class="form">
          <label><span data-i18n="stream_url">Stream URL</span><input name="url" type="text" placeholder="https://...mp3"></label>
          <button class="primary" type="submit" data-i18n="save">Save</button>
        </form>
      </details>
    </section>

    <!-- Stories -->
    <section id="view-stories" class="view">
      <h2>ğŸ—£ï¸ <span data-i18n="stories">Village Storytelling Archive</span></h2>
      <form id="storyForm" class="form">
        <label><span data-i18n="title">Title</span><input name="title" type="text" required></label>
        <label><span data-i18n="your_name">Your Name</span><input name="name" type="text"></label>
        <div class="row">
          <button id="startRecBtn" class="primary" type="button">âºï¸ <span data-i18n="start_recording">Start Recording</span></button>
          <button id="stopRecBtn" class="secondary" type="button" disabled>â¹ï¸ <span data-i18n="stop">Stop</span></button>
          <button id="saveStoryBtn" class="secondary" type="button" disabled>ğŸ’¾ <span data-i18n="save">Save</span></button>
        </div>
        <audio id="storyPreview" controls style="width:100%"></audio>
      </form>
      <ul id="storyList" class="list"></ul>
    </section>

    <!-- SOS -->
    <section id="view-sos" class="view">
      <h2>ğŸš¨ <span data-i18n="one_tap_sos">One-Tap SOS</span></h2>
      <p class="muted" data-i18n="sos_info">This will prepare an SMS with your location to your saved contacts.</p>
      <label>
        <span data-i18n="contacts">Contacts (comma separated phone numbers)</span>
        <input type="text" id="sosContacts" placeholder="e.g., 9876543210, 9898989898" />
      </label>
      <div class="row">
        <button id="sosBtn" class="danger">ğŸš¨ <span data-i18n="send_sos">Send SOS</span></button>
      </div>
      <div id="sosOutput" class="card"></div>
    </section>

    <!-- Admin -->
    <section id="view-admin" class="view">
      <h2>ğŸ› ï¸ <span data-i18n="admin_panel">Admin Panel</span></h2>
      <div class="notice" data-i18n="admin_note">Admin can post announcements and update issue status.</div>

      <details class="panel">
        <summary>ğŸ“£ <span data-i18n="post_announcement">Post Announcement</span></summary>
        <form id="annForm" class="form">
          <label>
            <span data-i18n="type">Type</span>
            <select name="type">
              <option value="text" data-i18n="text">Text</option>
              <option value="audio" data-i18n="audio">Audio</option>
              <option value="video" data-i18n="video">Video</option>
            </select>
          </label>
          <label>
            <span data-i18n="message">Message / URL</span>
            <input type="text" name="message" placeholder="Text or media URL" />
          </label>
          <label>
            <span data-i18n="upload_media">Upload Media (optional)</span>
            <input type="file" name="media" accept="audio/*,video/*" />
          </label>
          <button class="primary" type="submit" data-i18n="publish">Publish</button>
        </form>
      </details>

      <details class="panel">
        <summary>ğŸ“ <span data-i18n="manage_issues">Manage Issues</span></summary>
        <ul id="allIssues" class="list"></ul>
      </details>

      <details class="panel">
        <summary>ğŸ’¼ <span data-i18n="manage_jobs">Manage Jobs & Training</span></summary>
        <form id="jobForm" class="form">
          <label>
            <span data-i18n="title">Title</span>
            <input type="text" name="title" required />
          </label>
          <label>
            <span data-i18n="kind">Kind</span>
            <select name="kind">
              <option value="job" data-i18n="job">Job</option>
              <option value="training" data-i18n="training">Training</option>
            </select>
          </label>
          <label>
            <span data-i18n="location">Location</span>
            <input type="text" name="location" />
          </label>
          <label>
            <span data-i18n="age_range">Age Range</span>
            <div class="row">
              <input type="number" name="ageMin" min="14" max="80" placeholder="Min" />
              <input type="number" name="ageMax" min="14" max="80" placeholder="Max" />
            </div>
          </label>
          <label>
            <span data-i18n="genders">Genders</span>
            <select name="genders" multiple>
              <option value="F" data-i18n="female">Female</option>
              <option value="M" data-i18n="male">Male</option>
              <option value="O" data-i18n="other">Other</option>
            </select>
          </label>
          <label>
            <span data-i18n="skills">Skills (comma separated)</span>
            <input type="text" name="skills" />
          </label>
          <label>
            <span data-i18n="description">Description</span>
            <textarea name="description" rows="3"></textarea>
          </label>
          <button class="primary" type="submit" data-i18n="add">Add</button>
        </form>
      </details>

      <details class="panel">
        <summary>ğŸš¨ <span data-i18n="emergency_alerts">Emergency Alert System</span></summary>
        <form id="alertForm" class="form">
          <label><span data-i18n="message">Message</span><input name="message" type="text" required></label>
          <label><span data-i18n="contacts">Contacts (comma separated)</span><input name="numbers" type="text"></label>
          <button class="secondary" type="submit" data-i18n="prepare_sms">Prepare SMS</button>
        </form>
        <div id="alertOutput" class="card"></div>
      </details>
    </section>
    <!-- Need Help -->
<section id="view-needhelp" class="view">
  <h2>ğŸ¤ <span data-i18n="need_help">Need Help</span></h2>
  <form id="needHelpForm" class="form">
    <label>
      <span data-i18n="title">Title</span>
      <input type="text" name="title" required />
    </label>
    <label>
      <span data-i18n="description">Description</span>
      <textarea name="description" rows="3" required></textarea>
    </label>
    <label>
      <span data-i18n="amount">Amount Needed (â‚¹)</span>
      <input type="number" name="amount" min="1" required />
    </label>
    <button class="primary" type="submit" data-i18n="submit">Submit</button>
  </form>
  <h3 data-i18n="my_requests">My Requests</h3>
  <ul id="myHelpRequests" class="list"></ul>
</section>

<!-- Donation -->
<section id="view-donation" class="view">
  <h2>ğŸ’° <span data-i18n="donation">Donation</span></h2>
  <form id="donationForm" class="form">
    <label>
      <span data-i18n="select_request">Select Request</span>
      <select name="requestId" required>
        <option value="" disabled selected data-i18n="choose_request">Choose a request</option>
      </select>
    </label>
    <label>
      <span data-i18n="donation_amount">Donation Amount (â‚¹)</span>
      <input type="number" name="donationAmount" min="1" required />
    </label>
    <button class="primary" type="submit" data-i18n="donate">Donate</button>
  </form>
  <h3 data-i18n="donations_made">Donations Made</h3>
  <ul id="donationList" class="list"></ul>
</section>

<!-- Suggestion Box -->
<section id="view-suggestion" class="view">
  <h2>ğŸ’¡ <span data-i18n="suggestion_box">Suggestion Box</span></h2>
  <form id="suggestionForm" class="form">
    <label>
      <span data-i18n="your_name">Your Name</span>
      <input type="text" name="name"/>
    </label>
    <label>
      <span data-i18n="suggestion">Suggestion</span>
      <textarea name="text" rows="3" required></textarea>
    </label>
    <button class="primary" type="submit" data-i18n="submit">Submit</button>
  </form>
  <h3 data-i18n="all_suggestions">All Suggestions</h3>
  <ul id="suggestionList" class="list"></ul>
</section>

<!-- Government Schemes -->
<section id="view-schemes" class="view">
  <h2>ğŸ“œ <span data-i18n="govt_schemes">Government Schemes</span></h2>
  <details class="panel" id="schemeAdminPanel" style="display:none;">
    <summary>ğŸ› ï¸ <span data-i18n="manage_schemes">Manage Schemes</span></summary>
    <form id="schemeForm" class="form">
      <label>
        <span data-i18n="title">Title</span>
        <input type="text" name="title" required />
      </label>
      <label>
        <span data-i18n="description">Description</span>
        <textarea name="description" rows="3"></textarea>
      </label>
      <label>
        <span data-i18n="link">Link / URL</span>
        <input type="url" name="link" />
      </label>
      <button class="primary" type="submit" data-i18n="add">Add</button>
    </form>
  </details>
  <ul id="schemeList" class="list"></ul>
</section>

<!-- Other existing views (Report Issue, Announcements, Jobs, etc.) remain unchanged -->

  </main>

  <!-- Login Modal -->
  <dialog id="loginModal">
    <form method="dialog" id="loginForm" class="form">
      <h3 data-i18n="login">Login</h3>
      <label>
        <span data-i18n="role">Role</span>
        <select name="role">
          <option value="villager" data-i18n="villager">Villager</option>
          <option value="admin" data-i18n="admin">Panchayat Admin</option>
          <option value="health" data-i18n="health_worker">Health Worker</option>
        </select>
      </label>
      <label>
        <span data-i18n="phone_email">Phone or Email</span>
        <input type="text" name="id" required />
      </label>
      <div class="row">
        <button id="mockFingerprint" class="secondary" type="button">ğŸ‘ <span data-i18n="thumbprint">Thumbprint</span></button>
        <span class="muted" data-i18n="thumbprint_mock">(Mocked)</span>
      </div>
      <details class="panel">
        <summary>ğŸ†” <span data-i18n="village_id">Village ID</span></summary>
        <div class="row">
          <button id="genIdBtn" class="secondary" type="button" data-i18n="generate_id">Generate Secure ID</button>
          <button id="showQrBtn" class="secondary" type="button" data-i18n="show_qr">Show QR</button>
        </div>
        <canvas id="idQrCanvas" width="200" height="200" style="display:none;border-radius:8px;background:#fff"></canvas>
        <div id="idText" class="muted" style="word-break:break-all"></div>
      </details>
      <div class="row">
        <button value="cancel" class="secondary" data-i18n="cancel">Cancel</button>
        <button value="login" class="primary" data-i18n="login">Login</button>
      </div>
    </form>
  </dialog>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script defer src="app.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gro-Hit - Rural Empowerment Prototype</title>
  <meta name="theme-color" content="#1b5e20" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- ...header and nav unchanged... -->

  <main>
    <!-- Suggestion Box -->
    <section id="view-suggestion" class="view">
      <h2>ğŸ’¡ Suggestion Box</h2>
      <form id="suggestionForm" class="form">
        <label>
          <span>Your Name</span>
          <input type="text" name="name"/>
        </label>
        <label>
          <span>Suggestion</span>
          <textarea name="text" rows="3" required></textarea>
        </label>
        <button class="primary" type="submit">Submit</button>
      </form>
      <h3>All Suggestions</h3>
      <ul id="suggestionList" class="list"></ul>
    </section>

    <!-- Need Help -->
    <section id="view-needhelp" class="view">
      <h2>ğŸ¤ Need Help</h2>
      <form id="needHelpForm" class="form">
        <label>
          <span>Title</span>
          <input type="text" name="title" required />
        </label>
        <label>
          <span>Description</span>
          <textarea name="description" rows="3" required></textarea>
        </label>
        <label>
          <span>Amount Needed (â‚¹)</span>
          <input type="number" name="amount" min="1" required />
        </label>
        <button class="primary" type="submit">Submit</button>
      </form>
      <h3>My Requests</h3>
      <ul id="myHelpRequests" class="list"></ul>
    </section>

    <!-- Donation -->
    <section id="view-donation" class="view">
      <h2>ğŸ’° Donation</h2>
      <form id="donationForm" class="form">
        <label>
          <span>Select Request</span>
          <select name="requestId" required>
            <option value="" disabled selected>Choose a request</option>
            <!-- Populated from Need Help requests -->
          </select>
        </label>
        <label>
          <span>Donation Amount (â‚¹)</span>
          <input type="number" name="donationAmount" min="1" required />
        </label>
        <button class="primary" type="submit">Donate</button>
      </form>
      <h3>Donations Made</h3>
      <ul id="donationList" class="list"></ul>
    </section>

    <!-- Government Schemes (view only for users) -->
    <section id="view-schemes" class="view">
      <h2>ğŸ“œ Government Schemes</h2>
      <ul id="schemeList" class="list"></ul>
    </section>

    <!-- Admin Panel -->
    <section id="view-admin" class="view">
      <h2>ğŸ› ï¸ Admin Panel</h2>
      <!-- Suggestions Management -->
      <details class="panel">
        <summary>ğŸ’¡ View Suggestions</summary>
        <ul id="adminSuggestionList" class="list"></ul>
      </details>
      <!-- Need Help Management (optional, for review) -->
      <details class="panel">
        <summary>ğŸ¤ View Help Requests</summary>
        <ul id="adminHelpList" class="list"></ul>
      </details>
      <!-- Government Schemes Management -->
      <details class="panel">
        <summary>ğŸ“œ Manage Government Schemes</summary>
        <form id="schemeForm" class="form">
          <label>
            <span>Title</span>
            <input type="text" name="title" required />
          </label>
          <label>
            <span>Description</span>
            <textarea name="description" rows="3"></textarea>
          </label>
          <label>
            <span>Link / URL</span>
            <input type="url" name="link" />
          </label>
          <button class="primary" type="submit">Add</button>
        </form>
        <ul id="adminSchemeList" class="list"></ul>
      </details>
      <!-- ...other admin features... -->
    </section>
  </main>

  <!-- ...login modal, toast, scripts... -->
  <script defer src="app.js"></script>
</body>
</html>